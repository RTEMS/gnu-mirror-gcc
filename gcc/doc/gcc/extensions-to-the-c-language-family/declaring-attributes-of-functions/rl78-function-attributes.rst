..
  Copyright 1988-2021 Free Software Foundation, Inc.
  This is part of the GCC manual.
  For copying conditions, see the GPL license file

.. _rl78-function-attributes:

RL78 Function Attributes
^^^^^^^^^^^^^^^^^^^^^^^^

These function attributes are supported by the RL78 back end:

.. option:: interrupt

  .. index:: interrupt function attribute, RL78

  .. index:: brk_interrupt function attribute, RL78

  These attributes indicate
  that the specified function is an interrupt handler.  The compiler generates
  function entry and exit sequences suitable for use in an interrupt handler
  when this attribute is present.

  Use ``brk_interrupt`` instead of ``interrupt`` for
  handlers intended to be used with the ``BRK`` opcode (i.e. those
  that must end with ``RETB`` instead of ``RETI`` ).

.. option:: naked

  .. index:: naked function attribute, RL78

  This attribute allows the compiler to construct the
  requisite function declaration, while allowing the body of the
  function to be assembly code. The specified function will not have
  prologue/epilogue sequences generated by the compiler. Only basic
  ``asm`` statements can safely be included in naked functions
  (see :ref:`basic-asm`). While using extended ``asm`` or a mixture of
  basic ``asm`` and C code may appear to work, they cannot be
  depended upon to work reliably and are not supported.